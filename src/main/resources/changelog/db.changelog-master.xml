<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <!--<include file="changelog/db.fill-tables.xml"/>-->

    <changeSet author="cryst (generated)" id="1517442681074-1">
        <createTable tableName="admin">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-2">
        <createTable tableName="manager">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-3">
        <createTable tableName="project">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="quantity" type="BIGINT"/>
            <column name="manager_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-4">
        <createTable tableName="task">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="project_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-5">
        <createTable tableName="user">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="first_name" type="VARCHAR(255)"/>
            <column name="last_name" type="VARCHAR(255)"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="userName" type="VARCHAR(255)"/>
            <column name="user_profile_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-6">
        <createTable tableName="user_profile">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="type" type="VARCHAR(15)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-7">
        <createTable tableName="worker">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="project_id" type="BIGINT"/>
            <column name="worker_qualification_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-8">
        <createTable tableName="worker_qualification">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="type" type="VARCHAR(15)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-9">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="admin"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-10">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="manager"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-11">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="worker"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-12">
        <addUniqueConstraint columnNames="type" constraintName="UK_k6d5iiad3vb5isxj1munty17o" tableName="user_profile"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-13">
        <addUniqueConstraint columnNames="type" constraintName="UK_logow1allwjoi3xv8k37u7895"
                             tableName="worker_qualification"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-14">
        <createIndex indexName="FKaljx9cf62s9g8u5bivyioukf3" tableName="worker">
            <column name="project_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-15">
        <createIndex indexName="FKjjes1f6tjhqns02054ou51m00" tableName="user">
            <column name="user_profile_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-16">
        <createIndex indexName="FKk8qrwowg31kx7hp93sru1pdqa" tableName="task">
            <column name="project_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-17">
        <createIndex indexName="FKmc41im0glyrn8n6u6yfyuy38s" tableName="project">
            <column name="manager_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-18">
        <createIndex indexName="FKqnfhtny8o2x08inoh1jiqsbwj" tableName="worker">
            <column name="worker_qualification_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-19">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="admin" constraintName="FK1ja8rua032fgnk9jmq7du3b3a"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-20">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="manager"
                                 constraintName="FK31laakchgoo3qohp4cqgcgada" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-21">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="worker"
                                 constraintName="FKaljx9cf62s9g8u5bivyioukf3" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="project"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-22">
        <addForeignKeyConstraint baseColumnNames="user_profile_id" baseTableName="user"
                                 constraintName="FKjjes1f6tjhqns02054ou51m00" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="user_profile"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-23">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="task"
                                 constraintName="FKk8qrwowg31kx7hp93sru1pdqa" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="project"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-24">
        <addForeignKeyConstraint baseColumnNames="manager_id" baseTableName="project"
                                 constraintName="FKmc41im0glyrn8n6u6yfyuy38s" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="manager"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-25">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="worker"
                                 constraintName="FKopm5ac7lr65x33baiyy2hj7oi" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="cryst (generated)" id="1517442681074-26">
        <addForeignKeyConstraint baseColumnNames="worker_qualification_id" baseTableName="worker"
                                 constraintName="FKqnfhtny8o2x08inoh1jiqsbwj" deferrable="false"
                                 initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION"
                                 referencedColumnNames="id" referencedTableName="worker_qualification"/>
    </changeSet>

    <changeSet id="first-change-1" author="Fedog">

    </changeSet>

</databaseChangeLog>